<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://java.sun.com/jsf/core">

<h:head>
	<title><ui:insert name="title">Blog de Links</ui:insert></title>

</h:head>

<h:body>

	<h:form>
		<p:panel id="panel" header="Poste seus Links!"  style="padding:auto;">  
        <p:messages id="messages" /> 
         
        <h:panelGrid columns="5">  
            <h:outputLabel for="Link" value="Link :  " />  
            <p:inputText id="novoLink"   
                value="#{blog.endereco}" required="true" label="Link"  size="75">  
                <f:validateLength minimum="7" />  
            </p:inputText>  
            <p:commandButton value="Postar" actionListener="#{blog.postaLink}" update="ultimasPostagensPanel,additionalInfoPanel" />  
            <p:message for="novoLink" />  
        </h:panelGrid>  
        
    </p:panel>    
    
		<p:panel id="ultimasPostagensPanel" header="Ultimos Links Postados"
			style="padding:auto;">

			<h:dataTable id="postTable" value="#{blog.ultimasPostagens}" var="links" cellpadding="5" cellspacing="5" border="2">

				<h:column size ="75"> 
					<f:facet  name="header"> Link </f:facet >
 					#{links.endereco}
 				</h:column >

				<h:column>
					<f:facet name="header"> Dia da postagem </f:facet >
 					#{links.data}
 				</h:column >
 				
 				<h:column>
 					<f:facet name="header">Hora da postagem</f:facet>
 					#{links.horario}
 				</h:column>
	
			</h:dataTable >
		</p:panel>
		<p:panel id="additionalInfoPanel" header="Informaçoes Adicionais"  style="margin-bottom:10px" >
			<p:panelGrid columns="1">
			 <h:outputLabel value="Tempo médio entre postagens : #{blog.tempoEntrePostagens}" />  
			 <h:outputLabel value="Site Mais Postado : #{blog.siteMaisPostado}" />  
			
			</p:panelGrid>
			
		</p:panel>
	</h:form>

</h:body>
</html>